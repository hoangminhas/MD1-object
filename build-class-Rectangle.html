<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xay dung lop hinh chu nhat</title>
</head>
<body>
<h3>Ve hinh chu nhat</h3>
<p>Nhap chieu dai <input id="width" type="text" placeholder="px"></p>
<p>Nhap chieu rong <input id="height" type="text" placeholder="px"></p>
<button id="draw" onclick="cljck()">Draw</button>
<br>
<canvas id="myCanvas" style="border: 1px solid blanchedalmond; width: 600px; height: 300px"></canvas>
<h4 id="result"></h4>
<script>

    class Rectangle {
        width;
        height;
        constructor(width, height) {
            this._width = width;
            this._height = height;
        }

        get width() {
            return this._width;
        }

        set width(value) {
            this._width = value;
        }

        get height() {
            return this._height;
        }

        set height(value) {
            this._height = value;
        }

        printArea(){
            return this._width * this._height;
        }

        printCircumference(){
            return (+this._height + +this._width)*2;

        }

        drawCanvas(x, y){
            let rect = document.getElementById("myCanvas");
            let ctx = rect.getContext('2d');
            let color = this.randomlyColor();
            ctx.beginPath()
            ctx.rect(x, y, this._width, this._height);
            ctx.fillStyle = color;
            ctx.fill();
            ctx.closePath();
        }

        randomlyColor(){
            let red = this.getRandomHex();
            let green = this.getRandomHex();
            let blue = this.getRandomHex();
            return "rgb("+red+", "+green+", "+blue+")";
        }

        getRandomHex(){
            return Math.floor(Math.random()*225);
        }

    }

    function cljck(){
        let widthz = document.getElementById('width').value;
        let heightz = document.getElementById('height').value;
        parseFloat(widthz);
        parseFloat(heightz);
        let testHCN = new Rectangle(widthz, heightz);
        alert("Ve thanh cong");
        testHCN.drawCanvas(10, 10);
        document.getElementById('result').innerHTML = "Chu vi: " + testHCN.printCircumference()
        + "<br>" + "Dien tich: " + testHCN.printArea();
    }

</script>
</body>
</html>